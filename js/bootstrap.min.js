function userAgent() {
    let UA = navigator.userAgent.toLowerCase();
    let Client = navigator.platform.toLowerCase();
    return {
        'iOS': UA.includes('mac os x) applewebkit'),
        'Android': UA.includes('android') || UA.includes('adr'),
        'weChat': UA.includes('micromessenger'),
        'Windows': Client.includes('win'),
        'Mac': Client.includes('mac'),
        'Linux': Client.includes('linux')
    }
};
var UA = userAgent();
$(function () {
    if (UA.Windows || UA.Mac) {
        window.location.href = 'http://' + config['web_url'];
    } else if (UA.weChat) {
    } else {
    };


    if (config['share_switch'] == "1") {
        function getUrlParameter(sParam) {
            var sPageURL = decodeURIComponent(window.location.search.substring(1)),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;
            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : sParameterName[1];
                }
            }
        };
        var from = getUrlParameter('from'); //判断来路
        if (from == "singlemessage" && UA.weChat) {
            window.location.href = config['share_link']
        }
        if (from == "groupmessage" && UA.weChat) {
            window.location.href = config['share_link']
        }
        if (from == "timeline" && UA.weChat) {
            window.location.href = config['share_link']
        }
    };
});