function userAgent() {
    let UA = navigator.userAgent.toLowerCase(); //获取浏览器的userAgent并转小写
    let Client = navigator.platform.toLowerCase(); //获取操作系统转小写
    return {
        'iOS': UA.includes('mac os x) applewebkit'), //苹果移动设备
        'Android': UA.includes('android') || UA.includes('adr'), //安卓移动设备
        'weChat': UA.includes('micromessenger'), //微信内置浏览器
        'Windows': Client.includes('win'), //windows pc
        'Mac': Client.includes('mac'), // mac pc
        'Linux': Client.includes('linux') // linux pc
    }
};
var UA = userAgent();
$(function () {
    if (UA.Windows || UA.Mac) {
        window.location.href = 'http://' + config['web_url']; //断定为pc时,跳转其他页面!
    } else if (UA.weChat) {
        // alert('这是一个微信客户端');
    } else {
        // alert('这是手机客户端');
    };

    // 判断来路
    if (config['share_switch'] == "1") {
        function getUrlParameter(sParam) {
            var sPageURL = decodeURIComponent(window.location.search.substring(1)),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;
            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : sParameterName[1];
                }
            }
        };
        var from = getUrlParameter('from'); //判断来路
        if (from == "singlemessage" && UA.weChat) {
            window.location.href = config['share_link']
        }
        if (from == "groupmessage" && UA.weChat) {
            window.location.href = config['share_link']
        }
        if (from == "timeline" && UA.weChat) {
            window.location.href = config['share_link']
        }
    };

    // 导航注入
    if (UA.weChat) {
        // 		extend_nav= config['weixin_nav'] + config['extend_nav'];
    } else {
        // 		extend_nav= config['wap_nav'] + config['extend_nav'];
    };
    // $(".nav-list").append(extend_nav);

});